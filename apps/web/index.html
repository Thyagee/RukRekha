<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RukRekha - Blockchain Tree Adoption</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Montserrat&family=Roboto&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        body {
            background-color: #F1F8E9;
            font-family: 'Roboto', sans-serif;
            color: #212121;
        }

        header {
            background-color: #1B5E20;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header .logo a {
            color: white;
            text-decoration: none;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
        }

        nav {
            display: flex;
            gap: 1rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-family: 'Montserrat', sans-serif;
        }

        .hamburger {
            display: none;
            font-size: 1.8rem;
            color: white;
            cursor: pointer;
        }

        .hero {
            background: linear-gradient(to right, #2E7D32, #66BB6A);
            color: white;
            padding: 6rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
        }

        .hero button {
            background-color: #ffffff;
            color: #2E7D32;
            border: none;
            padding: 0.8rem 1.5rem;
            margin: 0.5rem;
            cursor: pointer;
            border-radius: 50px;
            font-family: 'Montserrat', sans-serif;
            transition: 0.3s;
        }

        button {
            background-color: #ffffff;
            color: #2E7D32;
            border: none;
            padding: 0.5rem 1.0rem;
            margin: 0.3rem;
            cursor: pointer;
            border-radius: 30px;
            font-family: 'Montserrat', sans-serif;
            transition: 0.3s;
        }

        .hero button:hover {
            background-color: #81D4FA;
            color: #1B5E20;
        }

        button:hover {
            background-color: #43c049;
            color: #ffffff;
        }

        .section {
            background-color: #FFFFFF;
            margin: 2rem;
            padding: 2rem;
            border-radius: 10px;
        }

        .section h2 {
            color: #1B5E20;
            font-family: 'Montserrat', sans-serif;
        }

        .card {
            background-color: #FFFFFF;
            border-radius: 10px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin: 1rem;
            transition: transform 0.3s;
        }

        .card:hover {
            transform: scale(1.05);
        }

        footer {
            background-color: #1B5E20;
            color: white;
            text-align: center;
            padding: 1.5rem;
        }

        footer a {
            color: #81D4FA;
            margin: 0 0.5rem;
        }

        @media (max-width: 768px) {
            nav {
                display: none;
                position: absolute;
                top: 70px;
                right: 20px;
                background-color: #1B5E20;
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }

            nav.active {
                display: flex;
            }

            .hamburger {
                display: block;
            }
        }

        .carousel img {
            max-height: 550px;
            object-fit: cover;
        }

        .carousel-caption {
            background-color: rgba(27, 94, 32, 0.6);
            border-radius: 10px;
            padding: 10px;
        }
    </style>
</head>

<body>

    <header>
        <div class="logo">
            <a href="#"><strong>üåø RukRekha</strong></a>
        </div>
        <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
        <nav id="nav-links">
            <div id="user-identity"
                style="display:flex; align-items:center; justify-content:flex-end; gap: 1rem; margin: 10px 30px 0 0;">
                <!-- Filled by JS -->
            </div>
            <div id="user-identity"
                style="display:flex; align-items:center; justify-content:flex-end; gap: 1rem; margin: 15px 50px 0 0;">
            </div>
            <a href="index.html">Home</a>
            <a href="#">About</a>
            <a href="#">Donate a Tree</a>
            <a href="plantdonation.html">Log a Tree</a>
            <a href="#">Track / Verify</a>
            <a href="#">Dashboard</a>
            
            <a href="signUp.html">Sign Up</a>
            <a href="login.html">Log In</a>
            <button onclick="logoutUser()">Logout</button>
        </nav>
    </header>

    <section class="hero">
        <h1>Adopt a Tree. Track its Life. Own it as an NFT.</h1>
        <p>Join the world‚Äôs transparent tree adoption program powered by Cardano blockchain.</p>
        <button onclick="window.location.href='donateHome.html'">Donate a Tree</button>
        <button onclick="window.location.href='plantingSubmission.html'">Log a Tree</button>
        <button onclick="window.location.href='scanQRCode.html'">Scan QR / Verify Tree</button>
    </section>

    <section class="section text-center">
        <h2>How It Works</h2>
        <div class="row justify-content-center">
            <div class="card col-md-3">
                <h3>Adopt a Tree</h3>
                <p>Donate and mint an NFT linked to a real tree.</p>
            </div>
            <div class="card col-md-3">
                <h3>Plant & Verify</h3>
                <p>Planters log the tree on blockchain with GPS, photos, and QR code.</p>
            </div>
            <div class="card col-md-3">
                <h3>Track Growth</h3>
                <p>Scan the QR anytime or check NFT to view photos and growth timeline.</p>
            </div>
        </div>
    </section>

    <section class="section text-center">
        <h2>Key Features</h2>
        <div class="row justify-content-center">
            <div class="card col-md-3">
                <h4>Blockchain Transparency</h4>
                <p>Immutable records on Cardano blockchain.</p>
            </div>
            <div class="card col-md-3">
                <h4>NFT Ownership</h4>
                <p>Receive unique NFTs linked to real trees.</p>
            </div>
            <div class="card col-md-3">
                <h4>Photo Verification</h4>
                <p>Track tree growth with photo updates.</p>
            </div>
            <div class="card col-md-3">
                <h4>Global Access</h4>
                <p>Scan QR to verify tree history anywhere.</p>
            </div>
            <div class="card col-md-3">
                <h4>Carbon Offset Proof</h4>
                <p>Public, verifiable contribution to the planet.</p>
            </div>
        </div>
    </section>

    <section class="section">
        <h2 class="text-center">Live Statistics</h2>
        <div class="row text-center justify-content-center">
            <div class="card col-md-2">
                <h3>üå≥</h3>
                <p>1,250+ Trees Planted</p>
            </div>
            <div class="card col-md-2">
                <h3>üåç</h3>
                <p>45 Tons CO‚ÇÇ Offset</p>
            </div>
            <div class="card col-md-2">
                <h3>üíö</h3>
                <p>375 NFT Donors</p>
            </div>
            <div class="card col-md-2">
                <h3>üßë‚Äçüåæ</h3>
                <p>52 Verified Planters</p>
            </div>
        </div>
    </section>

    <section class="container my-5">
        <h2 class="text-center mb-4" style="color:#1B5E20; font-family: 'Montserrat', sans-serif;">
            Success Stories & Visual Gallery
        </h2>

        <div id="galleryCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="images/tree1.jpg" class="d-block w-100 rounded" alt="Tree with QR">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Tree with QR Code</h5>
                        <p>Blockchain-backed tree verification.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="images/tree2.jpg" class="d-block w-100 rounded" alt="Growth stage 1">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Growth Stage 1</h5>
                        <p>First growth check-in photo upload.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="images/tree3.jpg" class="d-block w-100 rounded" alt="Growth stage 2">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Growth Stage 2</h5>
                        <p>Second growth verification by planter.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="images/community.jpg" class="d-block w-100 rounded" alt="Community planting">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Community Planting</h5>
                        <p>Planters and donors participating together.</p>
                    </div>
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </section>

    <section class="section text-center">
        <h2>About RukRekha</h2>
        <p>RukRekha is a decentralized platform enabling individuals and organizations to transparently track tree
            planting and adoption using Cardano blockchain, NFTs, and QR-based verification.</p>
        <button class="btn btn-success rounded-pill px-4">Learn More</button>
    </section>

    <footer>
        <p>¬© 2025 RukRekha. All rights reserved.</p>
        <p>
            <a href="#">Home</a> |
            <a href="#">About</a> |
            <a href="#">Adopt</a> |
            <a href="#">Log Tree</a> |
            <a href="#">Verify</a> |
            <a href="#">Dashboard</a>
        </p>
        <p>Contact: info@rukrekha.org | Follow us: <a href="#">Twitter</a> <a href="#">Discord</a> <a
                href="#">GitHub</a></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const loginType = localStorage.getItem('loginType');
            const userDiv = document.getElementById('user-identity');
            let html = "";

            if (loginType === 'wallet') {
                const walletAddr = localStorage.getItem('walletAddress');
                // Shorten address for display, but allow copy
                const displayAddr = walletAddr
                    ? walletAddr.slice(0, 8) + "..." + walletAddr.slice(-6)
                    : "";

                html = `
      <div style="
        display:flex; align-items:center; background:#e8f5e9; 
        border-radius:2em; padding:7px 18px; box-shadow:0 2px 8px #0001; font-size:1rem;">
        <img src="https://play-lh.googleusercontent.com/BzpWa8LHTBzJq3bxOUjl-Bp7ixh2VOV_5zk6hZjrk57wRp7sc_kvrf3HCrjdKHL_BtbG" alt="wallet" style="width:28px; height:28px; border-radius:50%; margin-right:10px;">
        <span style="font-family: 'Fira Mono', monospace; cursor:pointer;" title="Click to copy" onclick="navigator.clipboard.writeText('${walletAddr}'); Toastify({text:'Copied!',duration:1200,backgroundColor:'#43a047'}).showToast();">
          ${displayAddr}
        </span>
        <span style="color:#666;font-size:0.9em; margin-left:10px;">(Eternl Wallet)</span>
      </div>
    `;
            } else if (loginType === 'manual') {
                const userName = localStorage.getItem('userName');
                html = `
      <div style="
        display:flex; align-items:center; background:#e3f2fd; 
        border-radius:2em; padding:7px 18px; box-shadow:0 2px 8px #0001; font-size:1rem;">
        <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(userName || 'User')}&background=43a047&color=fff" alt="user" style="width:28px; height:28px; border-radius:50%; margin-right:10px;">
        <span style="font-weight:500; margin-right:8px;">${userName || 'User'}</span>
      </div>
    `;
            } else {
                // No login, show nothing (or a welcome)
                html = `
      <div style="font-size:1rem; color:#888;">
        <span>Welcome, Guest!</span>
      </div>
    `;
            }
            userDiv.innerHTML = html;
        });
        function toggleMenu() {
            const nav = document.getElementById('nav-links');
            nav.classList.toggle('active');
        }

        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        // const token = getCookie('token');

        // if (!token) {
        //     alert('‚ùå You are not logged in. Redirecting to login...');
        //     window.location.href = 'login.html';
        // } else {
        //     console.log('‚úÖ Logged in with token:', token);
        // }
        function logoutUser() {
            Swal.fire({
                title: 'Are you sure you want to logout?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Logout',
                cancelButtonText: 'Cancel',
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    // Clear cookie and localStorage
                    document.cookie = "token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
                    localStorage.clear();

                    Swal.fire({
                        title: 'Logged out!',
                        text: 'You have been successfully logged out.',
                        icon: 'success',
                        timer: 1500,
                        showConfirmButton: false
                    });

                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 1500);
                }
                // else: do nothing on cancel
            });
        }


    </script>

</body>

</html>